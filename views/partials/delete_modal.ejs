<!-- Delete Confirmation Modal -->
<div id="delete-modal" style="display: none;" class="fixed inset-0 z-100">
    <!-- Backdrop -->
    <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="closeDeleteModal()"></div>
    
    <!-- Centered Container -->
    <div class="absolute inset-0 flex items-center justify-center p-4" onclick="if(event.target === this) closeDeleteModal()">
        <!-- Modal Content -->
        <div class="relative w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl p-6 sm:p-8">
            <h3 id="delete-modal-title" class="text-xl font-bold text-white mb-2">Delete Item?</h3>
            <p id="delete-modal-message" class="text-zinc-400 text-sm mb-6">
                Are you sure you want to delete this item? This action cannot be undone.
            </p>
            
            <div class="flex gap-3">
                <button type="button" onclick="closeDeleteModal()" class="flex-1 py-2.5 px-4 bg-zinc-800 text-white font-medium rounded-xl hover:bg-zinc-700 transition-colors">
                    Cancel
                </button>
                <form id="delete-modal-form" action="" method="POST" class="flex-1">
                    <button type="submit" class="w-full py-2.5 px-4 bg-red-500/10 hover:bg-red-500/20 text-red-500 font-medium rounded-xl border border-red-500/20 transition-colors">
                        Delete
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
window.openDeleteModal = function(actionUrl, title, message) {
    const modal = document.getElementById('delete-modal');
    const form = document.getElementById('delete-modal-form');
    const titleEl = document.getElementById('delete-modal-title');
    const messageEl = document.getElementById('delete-modal-message');
    
    if (modal && form) {
        form.action = actionUrl;
        if (title && titleEl) titleEl.textContent = title;
        if (message && messageEl) messageEl.textContent = message;
        
        // Reset to defaults if not provided (for backward compatibility or if we want defaults)
        if (!title && titleEl) titleEl.textContent = 'Delete Item?';
        if (!message && messageEl) messageEl.textContent = 'Are you sure you want to delete this item? This action cannot be undone.';

        modal.style.display = 'block';
    }
};

window.closeDeleteModal = function() {
    const modal = document.getElementById('delete-modal');
    if (modal) {
        modal.style.display = 'none';
    }
};

// Close on escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        window.closeDeleteModal();
    }
});
</script>
